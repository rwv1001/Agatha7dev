#!/bin/bash
set -e

# Check if command is rails server (with any arguments)
echo "The first argument is: $1, and the second argument is: $2"
if [ "$1" == "./bin/rails" ] && [ "$2" == "server" ]; then
  #if ! ./bin/rails db:version RAILS_ENV="development" > /dev/null 2>&1; then
   # echo "Database does not exist or is not set up. Creating anddd preparing..."
    #./bin/rails db:create RAILS_ENV="development"
    ./bin/rails db:prepare
  #else
   # echo "Database for development already exists. Skipping creation."
  #fi
fi
exec "$@"